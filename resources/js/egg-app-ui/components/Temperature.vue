<script setup lang="ts">
import { defineProps, ref } from "vue";
const props = defineProps({
    temperature: {
        type: Number,
    },
});

const color1 = ref('rgba(45, 122, 189, 1)') // ending color of the gradient
const color2 = ref('rgba(186, 45, 45, 1)') // starting color of the gradient

const svg_data = [
    /* temperature normal */
    {
        "value": "M13 34.9995C11.6193 34.9995 10.5 36.1187 10.5 37.4995C10.5 38.8802 11.6193 39.9995 13 39.9995C14.3807 39.9995 15.5 38.8802 15.5 37.4995C15.5 36.1187 14.3807 34.9995 13 34.9995ZM13 34.9995V25M13 37.4995L13.0178 37.5173M23 37.4995C23 43.0225 18.5228 47.4995 13 47.4995C7.47715 47.4995 3 43.0225 3 37.4995C3 34.9635 3.9441 32.6478 5.5 30.885V10C5.5 5.85788 8.85775 2.5 13 2.5C17.1423 2.5 20.5 5.85788 20.5 10V30.885C22.056 32.6478 23 34.9635 23 37.4995Z",
        "width": "26",
        "height": "50",
        "stroke_width": "0"
    },
    /* temperature hot */
    {
        "value": "M31.7432 7.99995L34.159 13.1617C34.433 13.7348 34.57 14.0214 34.786 14.198C34.9762 14.3536 35.2082 14.4497 35.4527 14.4742C35.7302 14.502 36.0297 14.3962 36.629 14.1848L40.6935 12.75C41.955 12.3047 42.586 12.082 43 12.2264C43.36 12.3519 43.6432 12.635 43.7687 12.9951C43.9132 13.4092 43.6905 14.0401 43.245 15.3017L41.8102 19.3662C41.5987 19.9653 41.4932 20.2648 41.521 20.5425C41.5455 20.787 41.6415 21.0187 41.797 21.209C41.9737 21.425 42.2602 21.562 42.8335 21.8363L46.722 23.6958C47.929 24.273 48.5325 24.5615 48.7232 24.9565C48.889 25.2998 48.889 25.7002 48.7232 26.0435C48.5325 26.4385 47.929 26.727 46.722 27.3042L42.8335 29.1637C42.2602 29.4377 41.9737 29.575 41.797 29.791C41.6415 29.9813 41.5455 30.213 41.521 30.4575C41.4932 30.7352 41.5987 31.0347 41.8102 31.6337L43.245 35.6982C43.6905 36.96 43.9132 37.5907 43.7687 38.0047C43.6432 38.365 43.36 38.648 43 38.7735C42.586 38.918 41.955 38.6953 40.6935 38.25L35.5427 36.4317C35.317 36.352 35.204 36.3123 35.0877 36.2945C34.985 36.2785 34.8802 36.2757 34.7767 36.286C34.6597 36.2972 34.5447 36.331 34.315 36.3985L32.9932 36.7855M30.495 30.5C31.405 30.5 32.2582 30.257 32.9932 29.8322C34.4887 28.968 35.495 27.3515 35.495 25.5C35.495 23.6485 34.4887 22.032 32.9932 21.1678C32.2582 20.743 31.405 20.5 30.495 20.5M12.9951 35.4995C14.3758 35.4995 15.4951 36.6187 15.4951 37.9995C15.4951 39.3802 14.3758 40.4995 12.9951 40.4995C11.6144 40.4995 10.4951 39.3802 10.4951 37.9995C10.4951 36.6187 11.6144 35.4995 12.9951 35.4995ZM12.9951 35.4995L12.9774 21.75M12.9951 37.9995L12.9774 38.0173M2.99512 37.9995C2.99512 43.5225 7.47227 47.9995 12.9951 47.9995C18.518 47.9995 22.995 43.5225 22.995 37.9995C22.995 35.4635 22.051 33.1478 20.4951 31.385V10.5C20.4951 6.35788 17.1372 3 12.9951 3C8.85297 3 5.49512 6.35788 5.49512 10.5V31.385C3.93919 33.1478 2.99512 35.4635 2.99512 37.9995Z",
        "width": "52",
        "height": "51",
        "stroke_width": "0"
    },
    /* temperature cold */
    {
        "value": "M37.8247 7.5V12.5M37.8247 12.5V24.9617M37.8247 12.5L35.3247 10M37.8247 12.5L40.3247 10M37.8247 24.9617V25.0382M37.8247 24.9617L33.75 22.6092M37.8247 24.9617L37.891 25M37.8247 25.0382V37.5M37.8247 25.0382L37.891 25M37.8247 25.0382L33.75 27.3905M37.891 25L48.4995 31.1247M37.891 25L48.4993 18.875M37.8247 37.5V42.5M37.8247 37.5L35.3247 40M37.8247 37.5L40.3247 40M48.4995 31.1247L53.0465 33.75M48.4995 31.1247L49.7802 35.906M48.4995 31.1247L53.2797 29.844M48.4993 18.875L53.0457 16.25M48.4993 18.875L49.7802 14.0939M48.4993 18.875L53.2807 20.156M17.5 39.9995C16.1193 39.9995 15 41.1187 15 42.4995C15 43.8802 16.1193 44.9995 17.5 44.9995C18.8807 44.9995 20 43.8802 20 42.4995C20 41.1187 18.8807 39.9995 17.5 39.9995ZM17.5 39.9995L17.5177 35M17.5 42.4995L17.5177 42.5173M27.5 42.4995C27.5 48.0225 23.0229 52.4995 17.5 52.4995C11.9771 52.4995 7.5 48.0225 7.5 42.4995C7.5 39.9635 8.4441 37.6478 10 35.885V15C10 10.8579 13.3579 7.5 17.5 7.5C21.6421 7.5 25 10.8579 25 15V35.885C26.556 37.6478 27.5 39.9635 27.5 42.4995Z",
        "width": "60",
        "height": "60",
        "stroke_width": "1"
    }
];

const get_svg = () => {
    if (props.temperature <= 20) {
        return svg_data[2];
    } else if (props.temperature >= 20) {
        return svg_data[1];
    } else if (props.temperature >= 60) {
        return svg_data[0];
    }
}
</script>

<template>
    <section class="flex items-center">
        <svg :width="get_svg().width" :height="get_svg().height"
            :viewBox="`0 0 ${get_svg().width}  ${get_svg().height}`" fill="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="gradient-fillion" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop :offset="(100 - props.temperature) + '%'" :style="{ stopColor: color1, stopOpacity: 1 }" />
                    <stop :offset="(100 - props.temperature) + '%'" :style="{ stopColor: color2, stopOpacity: 1 }" />
                </linearGradient>

            </defs>
            <path :d="get_svg().value" :stroke-width="get_svg().stroke_width" :fill="'url(#gradient-fillion)'"
                stroke-linecap="round" stroke-linejoin="round" stroke="black" />
        </svg>
        <p class="text-black font-bold">% {{temperature}}</p>
    </section>
</template>
